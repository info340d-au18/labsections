import Box from 'superbox'
import {Appear, Image} from 'mdx-deck'
export { default as theme } from '../theme'
import {Split} from 'mdx-deck/layouts'
import { CodeSurfer } from 'mdx-deck-code-surfer';


# Lab 6

-----

## History of JavaScript and jQuery vs React

---

<Image src="./jshist.png" />

```notes
This is from a talk given by Benedikt Meurer

I'm still new to it. I learned JavaScript back in the Spring of 2017. 

It really opened my eyes to how just a few years ago, JavaScript wasn't really talked about that much

ECMAScript is a standard created by Ecma International, it standardized javascript.

Long story short, there were inactive periods where suddenly at the end of them, js grew a lot

Right now, JavaScript is controlled by the TC39 committee. The proposals and code are open source on github, and I think that you can make a proposal today for a feature you want and follow up on it later. 

Why is it important to know this? The community of javascript controls the future of it. It's a committee of people, backed by people from different companies, all working to further javascript.

That's how the ecosystem goes. It'll be important going into the future, where you might see some drama arise.
```

---

# [A brave new world: Moving on to ES201X](https://www.youtube.com/watch?v=2OI_BLv1_zM)
-----
## Benedikt Meurer

---

# Why?

```notes
because what you learn today, will not be what is hot and new in the future.

What makes react so big?

People make things for it, you can pull something off the internet
```

---

# [React vs Angular vs Vue in 2018](https://medium.com/@TechMagic/reactjs-vs-angular5-vs-vue-js-what-to-choose-in-2018-b91e028fa91d)

<Image src="./rav.png" style={{margin: 'auto', width: 1000, height: 600}}/>

---

# [NPM and the future of JavaScript](https://www.youtube.com/watch?v=Qa4dxW-Qi2s)

## Why do we use NPM, and how has it shaped JavaScript, and how will we benefit in the future?

---

# [jqueryExample](http://students.washington.edu/wkwok16/labsections/lab6exampleJquery)

-----

## [code](http://students.washington.edu/wkwok16/labsections/lab6exampleJquery/js/index.js)
## [react code](http://students.washington.edu/wkwok16/labsections/lab6/react.js)


---

<CodeSurfer
    title="jQuery"
    notes=""
    code={require("!raw-loader!./jquery.js")}
    showNumbers={true}
    dark={true}
    steps={
        [
            {range: [1,9], notes: "Pretty much all the HTML"},
            {lines: [11], notes: "Our API endpoint" },
            {range: [13,16], notes: "Set up a state"},
            {range: [18,21], notes: "Whenever the input changes, change the state's max, then re-generate posts"},
            {range: [23,47], notes: "Generate a single post. One $ is jQuery, another is a template literal. Know the difference!"},
            {range: [49,57], notes: "Generate the post based on the range. Note how we have to empty it out ourselves then go again."},
            {range: [59,67], notes: 'Fetching from endpoint. Sets state then generates the post'},
            {range: [69, 70]},
            {range: [1,70], notes: 'jQuery version is slow, it is re-rendering everything'},
            {range: [1,70], notes: 'Imagine doing this all the time for large large applications. People actually did this long time ago!'},
        ]
    }
/>

---

<CodeSurfer
    title="React"
    notes=""
    code={require("!raw-loader!./react.js")}
    language="jsx"
    showNumbers={true}
    dark={true}
    steps={
        [
            {lines: [1,3], notes: "Import React, Component, and make a string for the endpoint, why do we import React when we don't use it?"},
            {lines: [5], notes: "Create the app"},
            {range: [6,12], notes: "constructor, set up the state similar to the jquery"},
            {range: [14,17], notes: "Change the maximum from the input later on"},
            {range: [19, 26], notes: "On mount, fetch and update the posts"},
            {range: [28,66], notes: 'Render function-- let\'s break it up'},
            {lines: [32], notes: 'The entire input-- when we change it, we invoke the function we made earlier'},
            {lines: [32, 14,15,16,17], notes: 'The entire input-- when we change it, we invoke the function we made earlier'},
            {range: [28,66], notes: 'Let\'s focus on the interesting part'},
            {range: [33,62], notes: 'Let\'s focus on the interesting part'},
            {range: [33,34], notes: 'If the length is > 0, then also perform this next thing, sort of like a conditional'},
            {range: [34, 35], notes: 'check it against the current max post'},
            {lines: [36], notes: 'key'},
            {range: [36, 57], notes: 'Exact same thing as earlier in the jQuery generateSinglePost method, but styling is a bit different, and no template literals'},
            {ranges: [[38, 41],[48,49],[45,45]], notes: 'camel cased'},
            {range: [28, 66], notes: ".map?"},
            {lines: [68], notes: "export default?"},
            {range: [1,68], notes: "Will talk about"}
        ]
    }
/>

---

# Factoring out components

## React component vs function

## Export default vs export

## CDN vs importing packages

---
export default Split

```jsx
import React, { Component } from 'react';

export class Timer extends Component {
    constructor() {
        super();
        this.state = {
            time: new Date()
        }

        setInterval(() => {
            this.setState({ time: new Date() });
        }, 500);
    }

    render() {
        return <div
            style={{
                backgroundColor: 'gray',
                borderRadius: 20,
                width: '50vw',
                margin: 'auto'
            }}
        >{['w', 'o', 'r', 'k'].map(d =>
            <pre style={{ margin: 0 }}>
                > {d}/  /{this.state.time.toLocaleTimeString()}
            </pre>)}
        </div>
    }
}
```

import {Timer} from './timer'

<Box>
    <Timer />
</Box>
